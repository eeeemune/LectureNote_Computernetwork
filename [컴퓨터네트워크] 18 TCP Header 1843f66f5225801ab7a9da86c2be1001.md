# [ì»´í“¨í„°ë„¤íŠ¸ì›Œí¬] 18. TCP Header

<aside>

# ğŸ’– TCP Header and Encapsulation

</aside>

![image.png](%5B%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%5D%2018%20TCP%20Header%201843f66f5225801ab7a9da86c2be1001/image.png)

## TCP Headerì˜ êµ¬ì„±

![image.png](%5B%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%5D%2018%20TCP%20Header%201843f66f5225801ab7a9da86c2be1001/image%201.png)

![image.png](%5B%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%5D%2018%20TCP%20Header%201843f66f5225801ab7a9da86c2be1001/image%202.png)

<aside>

**ì´ê±¸ ë‹¤ ì™¸ì›Œì„œ ì±„ì›Œì•¼ í•˜ëŠ” ë¬¸ì œëŠ” ì•ˆ ë‚˜ì˜¨ë‹¤ê³  ë§ì”€í•˜ì‹¬. ì´ ì¤‘ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ì„œ ë§ì”€í•˜ì‹  ê²ƒë“¤ì„ ì´ìš©í•´ì„œ ë¬¸ì œë¥¼ í‘¸ëŠ” ëŠë‚Œ,,, ì´ë¼ê³  í•˜ì‹œëŠ”ë° ì–´ë–¤ ëŠë‚Œì¸ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤.**

</aside>

### âš¡ ACK

### âš¡ application data(acknowledgement number)

applicationì„ ì‹¤ì œë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„. **variable lengthì´ë‹¤.**

### âš¡ checksum

![image.png](%5B%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%5D%2018%20TCP%20Header%201843f66f5225801ab7a9da86c2be1001/image%203.png)

<aside>

**ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¤‘ìš”í•˜ê²Œ ê°•ì¡°í•˜ì‹œëŠ” ë¶„ë“¤ë„ ê³„ì‹œì§€ë§Œ, êµìˆ˜ë‹˜ê»˜ì„œëŠ” ê·¸ë ‡ê²Œ ì¤‘ìš”í•œ ë‚´ìš©ì´ë¼ê³  ìƒê°í•˜ì§„ ì•ŠëŠ”ë‹¤ê³  ë§ì”€í•˜ì‹¬. ê·¸ëƒ¥ ë³´ê³  ë„˜ì–´ê°€ëŠ” ì •ë„ë¡œë§Œ ì•Œê³  ìˆìœ¼ë¼ê³ ,,,**

</aside>

ì „ì†¡ ë„ì¤‘ ì˜¤ë¥˜ê°€ ì¼ì–´ë‚¬ëŠ”ì§€ ì•„ë‹Œì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ë¶€ë¶„.

### âš¡ options

TCP options

### âš¡ headlen

headerì˜ ê¸¸ì´ë¥¼ ë‹´ê³  ìˆë‹¤. optionsë‚˜ application dataì˜ ê¸¸ì´ê°€ variableí•˜ê¸° ë•Œë¬¸ì— ë¯¸ë¦¬ ì–´ë””ê¹Œì§€ê°€ headerì¸ì§€ ì•Œë ¤ì¤€ë‹¤â€¦

- 16bit(4bytes)ê¹Œì§€ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤. ê·¸ë˜ì„œ headerì˜ rowsì˜ ê°œìˆ˜ë¥¼ ì €ì¥í•œë‹¤ê³  í•œë‹¤.
    - headlenì˜ í¬ê¸°ê°€ ê³ ì •ë˜ì–´ ë•Œë¬¸ì— headerì˜ í¬ê¸°ê°€ 60bytesë¡œ ì œí•œë˜ëŠ” ê²ƒì´ë¼ê³ â€¦

### âš¡  sequence number

- `wrap problem`
    - fieldì˜ í¬ê¸°ê°€ 8bytesë¡œ ê³ ì •ë˜ì–´ ìˆë‹¤.
    - ì´ ë•Œ 232 âˆ’1ê°œ ì´ìƒì˜ ë°ì´í„°ê°€ ë°œìƒí•œë‹¤ë©´, **ê°™ì€ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ê°€ í•˜ë‚˜ ë” ìƒê¸°ëŠ” ê²ƒ**
    - ë³´ì•ˆ ìƒìœ¼ë¡œ ì¤‘ìš”í•œ ì´ìŠˆë¼ê³  í•œë‹¤.

### âš¡ RST, SYN, FIN

connection flags

### âš¡ receive window

`flow control`ì„ ìœ„í•¨.

- flow controlì´ë€ ë¬´ì—‡ì¸ê°€ìš”?
    - ìˆ˜ì‹  ë²„í¼ì˜ í¬ê¸°ê°€ ì‘ì€ë° ê°œë¹ ë¥´ê²Œ ì „ì†¡í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚  ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤.
    - ì´ëŸ° ìƒí™©ì—ì„œ receiverê°€ ê°€ì§€ê³  ìˆëŠ” bufferì˜ **ë‚¨ì€ ë¶€ë¶„ì˜ í¬ê¸°**ë¥¼ ê¸°ë¡í•´ ë‘¡ë‹ˆë‹¤.

### âš¡ C, E

not usedë¡œ í‘œê¸°ëœ êµì¬ë„ ìˆë‹¤ê³  í•œë‹¤â€¦

### âš¡Urg data pointer

ë³´ë‚´ëŠ” ë°ì´í„° ì¤‘ ê¸‰í•œ ë°ì´í„°ê°€ ìˆì„ ë•Œ, ê·¸ ë°ì´í„°ì˜ ì‹œì‘ì ë¶€í„° ëì ê¹Œì§€ê°€ ì–´ë””ì¸ì§€ ì ì–´ë‘ 

- í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ê±°ì˜ ì“°ì¼ ì¼ì´ ì—†ë‹¤ê³  í•œë‹¤. ì°¨ë¼ë¦¬ ì†Œì¼“ í•˜ë‚˜ë¥¼ ë” ë³´ë‚¸ë‹¤ê³ â€¦

## Pseudoheader

![image.png](%5B%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%5D%2018%20TCP%20Header%201843f66f5225801ab7a9da86c2be1001/image%204.png)

headerì˜ í¬ê¸°ê°€ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ë„ ìˆë‹¤. ê·¸ë˜ì„œ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ëª¨ì•„ì„œ ì¶”ê°€ë¡œ ë¶™ì—¬ ì „ì†¡í•˜ëŠ”ë°, ì´ë¥¼ `pseudoheader`ë¼ê³  í•œë‹¤.

<aside>

# ğŸ’– References

</aside>

https://evan-moon.github.io/2019/11/10/header-of-tcp/